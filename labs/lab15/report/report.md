---
## Front matter
title: "Отчёт по внешнему курсу: Введение в Linux"
subtitle: "Глава 2. Работа на сервере"
author: "Ищенко Ирина Олеговна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель

Изучить вторую главу.

# Выполнение курса

Переходим к первому разделу "Знакомство с сервером". Выбираем задачи, для которых может использоваться удаленный сервер (рис. @fig:001).
Отвечаем на вопрос, какой из ключей можно пеерсылать по интернету (рис. @fig:002). Пересылать можно ключ с пометкой pub (public - публичный, открытый), испольуется для ассиметричного шифрования. Закрытый ключ пересылать нельзя, у каждого пользователя он индивидуален.
Выполнить задание в терминале не удалось, так как к серверу подключиться не удалось.

![Применение удаленных серверов](image/1.PNG){#fig:001 width=70%}

![Ассиметричное шифрование](image/2.PNG){#fig:002 width=70%}

Переходим к следующему разделу "Обмен файлами". Чтобы скопировать на сервер папку со всем ее содержимым и содержимым ее подпапок, нужно использовать команду копировария scp и ключ -r (рекурсивно) (рис. @fig:003).
Чтобы устранить проблему со скачиванием установочного пакета, трубется проверить интернет соединение или загрузить обновление (рис. @fig:004).
Отвечаем на вопрос, как можно использовать программу Filezilla (рис. @fig:005).

![Копирование на сервер](image/3.PNG){#fig:003 width=70%} 

![Проблема скачивания установочного пакета](image/4.PNG){#fig:004 width=70%}

![Filezilla](image/5.PNG){#fig:005 width=70%}

Переходим к следующему разделу "Запуск приложений". 
Отвечаем на вопрос по оптимизации работы программы, не адаптированной для терминала (рис. @fig:006). 

![Работа порграммы](image/6.PNG){#fig:006 width=70%}

Вывести справочную информацию о пргорамме можно с помощью команд man и help (рис. @fig:007). 

![Вывод справочной информации](image/7.PNG){#fig:007 width=70%}

Открываем справку о программе FastaQC (рис. @fig:008) и отвечаем на вопрос о том, какие форматы она поддерживает (рис. @fig:009).

![Справка о программе](image/8.PNG){#fig:008 width=70%}

![Поддерживаемые форматы](image/9.PNG){#fig:009 width=70%}

Ответим на задание о программе clustal. Открываем справку о программе и находим опцию, позволяющую выполнить множественное выравнивание (multiple alignment) (рис. @fig:0010) и (рис. @fig:0011).

![Справка о программе](image/10.PNG){#fig:0010 width=70%}

![Ответ на задание](image/11.PNG){#fig:0011 width=70%}

Переходим к разделу "Контроль запускаемых программ".
Ответим на задание о команде jobs. Запускаем три программы в фоновом режиме. Возобновляем первую программу, прерываем ее выполнение, возобновляем вторую программу, приостанавливаем ее выполнение и используем команду (третья программа запущена в фоновом режиме). Команда выведет информацию о запущенных и приостановленных программах - 2ой и 3ьей (рис. @fig:0012).

![Команда jobs](image/12.PNG){#fig:0012 width=70%}
 
Различия jobs, top и ps: jobs  просто показывает запущенные программы, присваивая им порядковый номер 1,2,3... А top и ps показывают все процессы с их уникальным номером - идентификатором процесса (PID) (рис. @fig:0013).

![Различия jobs, top и ps](image/13.PNG){#fig:0013 width=70%}

С помощью команды kill -9 можно мгновенно завершить остановленный процесс. kill -18 возобновляет приостановленные программы (рис. @fig:0014). 
Если использовать kill (без опций) по отношению к процессу, который был приостановлен при помощи Ctrl+Z, то программа завершится, после того как возобновится (рис. @fig:0015).

![Команда kill](image/14.PNG){#fig:0014 width=70%}

![Команда kill](image/15.PNG){#fig:0015 width=70%}

Переходим к разделу "Многопоточные приложения".
Приостановленное многопоточное приложение не использует вычислительные ресурсы ЦП (рис. @fig:0016). 
Остановленное многопоточное пприложение занимает столько же памяти, сколько и до остановки (рис. @fig:0017).
Принудительно завершить один из потоков запущенного многопоточного приложения (рис. @fig:0018).

![Использование CPU](image/16.PNG){#fig:0016 width=70%}

![Использование памяти](image/17.PNG){#fig:0017 width=70%}

![Принудительное завершение потока](image/18.PNG){#fig:0018 width=70%}

В случае с многопоточным приложением bowtie2 можно выполнить команду bowtie2 в несколько потоков, команда bowtie2-build создает индексы и не запускается в несколько потоков (рис. @fig:0020).

![Несколько потоков](image/20.PNG){#fig:0020 width=70%}

Для следующего задания мы установили bowtie2 (sudo dnf install bowtie2) и скачали файлы для программы. Использовали команду билд и запустили программу в двух потоках (рис. @fig:0022). В результате выполнения команд мы получили файл с информацией об ошибках (рис. @fig:0023).
Прикрепляем ответ на задание (рис. @fig:0024).

![Команды](image/22.PNG){#fig:0022 width=70%}

![Файл с результатом](image/23.PNG){#fig:0023 width=70%}

![Добавление ответа на задание](image/24.PNG){#fig:0024 width=70%}

Переходим к разделу "Менеджер терминалов tmux".
Tmux в моей виртуальной машине уже был установлен.
Если попробовать запустить программу, работающую в одной вкладке, в другой вкладке, терминал не найдет процесса для запуска. Т.к. вкладки не зависят друг от друга (рис. @fig:0025).

![Несвязанность вкладок](image/25.PNG){#fig:0025 width=70%}

Команда exit закрывает вкладку терминала или сам терминал, если вкладка была последней/единственной (рис. @fig:0026) и (рис. @fig:0027).

![Команда exit](image/27.PNG){#fig:0026 width=70%}

![Команда exit](image/26.PNG){#fig:0027 width=70%}

Отвечаем на вопрос о работе терминала с сервером (рис. @fig:0028).

![Терминал и сервер](image/28.PNG){#fig:0028 width=70%}

Если запустить процесс в фоновом режиме в одной из вкладок tmux, а затем принудительно закрыть эту вкладку, то вкладка закроется и процесс завершится (рис. @fig:0029).

![Принудительное закрытие tmux](image/29.PNG){#fig:0029 width=70%}

Ознакомимся со справкой о tmux. Для переименования текущей вкладки используется опция запятая (рис. @fig:0030). Тильда показывает предыдущие сообщения в терминале. t показывает время. i отоброжает информацию о текущем окне. r принудительно переподключает. Ответим на задание (рис. @fig:0031).

![Справка о tmux](image/30.PNG){#fig:0030 width=70%}

![Команды](image/31.PNG){#fig:0031 width=70%}

Попробуем разделить вкладку на несколько (рис. @fig:0032). Ответим на задание (рис. @fig:0033).

![Разделение вкладки](image/32.PNG){#fig:0032 width=70%}

![Разделение вкладки](image/33.PNG){#fig:0033 width=70%}

# Выводы

В ходе выполнения второй главы курса мы ознакомились с работой на сервере, воспользовались многопоточным приложением и менеджером терминалов tmux в операционной системе Linux.

